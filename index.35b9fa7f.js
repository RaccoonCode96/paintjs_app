const canvas=document.getElementById("jsCanvas"),ctx=canvas.getContext("2d"),colors=document.getElementsByClassName("jsColor"),range=document.getElementById("jsRange"),check=document.getElementById("jsCheck"),customColor=document.querySelector("#jsColorCustom"),mouseCursor=document.querySelector(".cursor"),cursorRange=document.querySelector(".cursor_range"),widthForm=document.querySelector(".controls__width"),heightForm=document.querySelector(".controls__height"),saveBtn=document.getElementById("jsSave"),rectBtn=document.querySelector("#jsRect"),paintBtn=document.querySelector("#jsPaint"),fillBtn=document.querySelector("#jsFill"),guide=document.querySelector(".guide"),INITIAL_COLOR="#2c2c2c",CANVAS_SIZE=600;canvas.width=600,canvas.height=600;const CURSOR_RANGE_CTRL=.1;mouseCursor.classList.remove("cursor"),ctx.fillStyle="white",ctx.fillRect(0,0,canvas.width,canvas.height),check.style.backgroundColor="#2c2c2c",ctx.strokeStyle="#2c2c2c",ctx.fillStyle="#2c2c2c",ctx.lineWidth=2.5;let paint=!0,painting=!1,rect=!1,recting=!1,fill=!1,startPX=0,startPY=0,startOX=0,startOY=0,sizing=2.5;function handleGuide(e){!0===rect&&!0===recting?(ctx.canvas.style.cursor="none",guide.classList.add("guide_show")):guide.classList.remove("guide_show")}function hideGuide(){guide.classList.remove("guide_show")}function startRecting(e){!0===rect&&(recting=!0,startPX=e.pageX,startPY=e.pageY,startOX=e.offsetX,startOY=e.offsetY,ctx.beginPath())}function stopRecting(e){!0===rect&&(recting=!1,ctx.stroke(),ctx.closePath())}function onMouseMoveR(e){if(!0===rect){const t=e.pageX,n=e.pageY,s=e.offsetX,a=e.offsetY;if(recting){const e=t-startPX,c=n-startPY;guide.style.width=Math.abs(e-sizing)+"px",guide.style.height=Math.abs(c-sizing)+"px",guide.style.top=startPY-sizing/2+"px",guide.style.left=startPX-sizing/2+"px",ctx.beginPath(),ctx.moveTo(s,a),ctx.rect(startOX,startOY,e,c)}else;}}function handleRectClick(e){!1===rect&&(rect=!0,fill=!1,paint=!1,ctx.canvas.style.cursor="none")}function startPainting(e){!0===paint&&(painting=!0)}function stopPainting(e){!0===paint&&(painting=!1)}function onMouseMove(e){if(!0===paint){const t=e.offsetX,n=e.offsetY;painting?(ctx.lineTo(t,n),ctx.stroke()):(ctx.beginPath(),ctx.moveTo(t,n))}}function handlePaintClick(e){!1===paint&&(rect=!1,fill=!1,paint=!0,ctx.canvas.style.cursor="none")}function handleFillClick(){!1===fill&&(paint=!1,rect=!1,fill=!0,ctx.canvas.style.cursor="pointer",mouseCursor.classList.remove("cursor"))}function handleCanvasClick(){!0===fill&&ctx.fillRect(0,0,canvas.width,canvas.height)}function handleColorClick(e){const t=e.target.style.backgroundColor;check.style.backgroundColor=t,ctx.strokeStyle=t,ctx.fillStyle=ctx.strokeStyle,guide.style.borderColor=t}function handleCColorChange(e){const t=e.target.value;check.style.backgroundColor=t,ctx.strokeStyle=t,ctx.fillStyle=ctx.strokeStyle,guide.style.borderColor=t}function handleRangeChange(e){const t=e.target.value;ctx.lineWidth=t,sizing=t,cursorRange.style.width=.1*t+"rem",cursorRange.style.height=.1*t+"rem",guide.style.borderWidth=t+"px"}function handleCM(e){e.preventDefault()}function handleSaveClick(){const e=canvas.toDataURL("image/png",1),t=document.createElement("a");t.href=e,t.download="PaintJS",t.click()}function handleCursor(e){!0===paint||!0===rect?(ctx.canvas.style.cursor="none",mouseCursor.classList.add("cursor")):(ctx.canvas.style.cursor="pointer",mouseCursor.classList.remove("cursor")),mouseCursor.style.top=e.pageY+"px",mouseCursor.style.left=e.pageX+"px"}function hideCursor(){mouseCursor.classList.remove("cursor")}function handleCanvasWidth(e){e.preventDefault(),canvas.width=e.target[0].value,ctx.strokeStyle=check.style.backgroundColor,ctx.fillStyle=ctx.strokeStyle}function handleCanvasHeight(e){e.preventDefault(),canvas.height=e.target[0].value,ctx.strokeStyle=check.style.backgroundColor,ctx.fillStyle=ctx.strokeStyle}canvas&&(canvas.addEventListener("mousemove",onMouseMoveR),canvas.addEventListener("mousedown",startRecting),canvas.addEventListener("mouseup",stopRecting),canvas.addEventListener("mouseleave",stopRecting),canvas.addEventListener("mousemove",onMouseMove),canvas.addEventListener("mousedown",startPainting),canvas.addEventListener("mouseup",stopPainting),canvas.addEventListener("mouseleave",stopPainting),canvas.addEventListener("click",handleCanvasClick),canvas.addEventListener("mouseleave",hideCursor),canvas.addEventListener("mousemove",handleCursor),canvas.addEventListener("contextmenu",handleCM),canvas.addEventListener("mouseleave",hideGuide),canvas.addEventListener("mousemove",handleGuide)),Array.from(colors).forEach((e=>e.addEventListener("click",handleColorClick))),customColor&&customColor.addEventListener("input",handleCColorChange),range&&range.addEventListener("input",handleRangeChange),widthForm&&widthForm.addEventListener("submit",handleCanvasWidth),heightForm&&heightForm.addEventListener("submit",handleCanvasHeight),rectBtn&&rectBtn.addEventListener("click",handleRectClick),fillBtn&&fillBtn.addEventListener("click",handleFillClick),paintBtn&&paintBtn.addEventListener("click",handlePaintClick),saveBtn&&saveBtn.addEventListener("click",handleSaveClick);
//# sourceMappingURL=index.35b9fa7f.js.map
